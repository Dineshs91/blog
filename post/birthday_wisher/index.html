<!DOCTYPE html>
<html lang="en-us">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <meta property="og:title" content=" Never forget to wish your close one&#39;s again. &middot;  My thoughts and adventures" />
  
  <meta property="og:site_name" content="My thoughts and adventures" />
  <meta property="og:url" content="https://blog.dineshs91.com/post/birthday_wisher/" />
  
  
  <meta property="og:type" content="article" />
  
  <meta property="og:article:published_time" content="2015-12-06T23:34:13&#43;05:30" />
  
  

  <title>
     Never forget to wish your close one&#39;s again. &middot;  My thoughts and adventures
  </title>

  <link rel="stylesheet" href="https://blog.dineshs91.comcss/bootstrap.min.css" />
  <link rel="stylesheet" href="https://blog.dineshs91.comcss/main.css" />
  <link rel="stylesheet" href="https://blog.dineshs91.comcss/font-awesome.min.css" />
  <link rel="stylesheet" href="https://blog.dineshs91.comcss/github.css" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400" type="text/css">
  <link rel="shortcut icon" href="https://blog.dineshs91.comimages/favicon.ico" />
  <link rel="apple-touch-icon" href="https://blog.dineshs91.comimages/apple-touch-icon.png" />
  
</head>
<body>
    <header class="global-header"  style="background-image:url( /images/bg.jpg ); height:290px;">
    <section class="header-text">
      <h1><a href="https://blog.dineshs91.com">My thoughts and adventures</a></h1>
      
      <div class="tag-line">
        Have no restrictions in your imaginations
      </div>
      
      <div class="sns-links hidden-print">
  <a href="https://blog.dineshs91.compost/projects">
    <i class="fa fa-space-shuttle"></i>
  </a>
  
  
  <a href="https://twitter.com/SDinesh91" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  
  <a href="https://github.com/Dineshs91" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
</div>

      
      <a href="https://blog.dineshs91.com" class="btn-header btn-back hidden-xs">
        <i class="fa fa-angle-left" aria-hidden="true"></i>
        &nbsp;Home
      </a>
      
      
      
    </section>
  </header>
  <main class="container">


<article>
  <header>
    <h1 class="text-primary">Never forget to wish your close one&#39;s again.</h1>
    <div class="post-meta clearfix">
    
      <div class="post-date pull-left">
        Posted on
        <time datetime="2015-12-06T23:34:13&#43;05:30">
          Dec 6, 2015
        </time>
      </div>
    
      <div class="pull-right">
        
      </div>
    </div>
  </header>
  <section>
    <p>It was a rainy weekend at my place. I was thinking how to make best use of that time and something crossed
my mind. What if a bot, can send birthday wishes to my friends on Facebook ? It would save me of all the regrets I have
had in the past. I said to myself <strong>challenge accepted</strong>.</p>
<p>I have done a similar kind of project in the past at work, where we had to get the gift card balances of 5 gift cards.
I used python urllib and re(regex) to accomplish the task. Hit the url with urllib2 and parse the balances from the
response using regex. But this time, I wanted to try a different approach. I guessed that the previous approach wouldn&rsquo;t
work so well. So, how do I do this ?</p>
<p>I had some experience with <a href="http://www.seleniumhq.org/">selenium</a> (It is for automating web applications for testing purposes), so I wanted to give it a try.
Java ? Wait, who am I kidding ? No way. I went with <a href="https://nodejs.org/en/">node.js</a> (Seemed better, lot better). The thought of opening an IDE, waved me off of java.
So I bootstrapped a small code in node.js. I had to choose between <a href="https://angular.github.io/protractor/#/">protractor</a>
and <a href="http://webdriver.io/">webdriverio</a>. I had used protractor in my <a href="https://github.com/dineshs91/devlog">devlog</a> project,
but it works only with angular (You can make it work for non-angular projects too, but with some tweaks). So I decided to
take webdriverio for a spin and it did the job quite well.</p>
<p>Having chosen the framework, it was time to write the code. One weird thing I noticed in facebook is that even the ID
attribute of an element was not consistent. It kept changing, so you can&rsquo;t use them in selectors. I completed the code
in 10-20 Lines. Selenium invokes a browser, does the actions specified in the code and quits. Now we don&rsquo;t want a browser
show up on the screen, when the bot works right. This is where <a href="http://phantomjs.org/">phantomjs</a> shines. It is a headless
browser for testing purposes.</p>
<p>There was one challenge I faced, which was synchronising the 2 steps. step 1 start the selenium standalone server and step 2
execute the webdriverio code. I solved this problem using event emitter. So when selenium server starts a <code>start</code> event
is emitted and there is a listener, which listens to this event and starts the webdriverio execution. Having solved the main
problem, I did some final refinements and that&rsquo;s it. The code is ready. Rock and roll.</p>
<p>You can find the source <a href="https://github.com/Dineshs91/fb-birthday-wisher">here</a>. And I forgot to mention that, the program
randomly chooses a wish from an array of wishes in the code.</p>
  </section>
  <footer>
    
    
    <hr/>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'Dineshs91';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
    
    <section class="author-info row">
      <div class="author-avatar col-md-2">
        
        <img alt="Author Avatar" src="https://blog.dineshs91.com/images/avatar.JPG" />
        
      </div>
      <div class="author-meta col-md-6">
        
        <h1 class="author-name text-primary">Dinesh S</h1>
        
        
        <div class="author-bio">Curious programmer, love to learn new concepts and open source enthusiast.</div>
        
      </div>
      
    </section>
    <ul class="pager">
      
      <li class="previous"><a href="https://blog.dineshs91.com/post/projects/"><span aria-hidden="true">&larr;</span>Older</a></li>
      
      
      <li class="next"><a href="https://blog.dineshs91.com/post/tars_bot/">Newer<span aria-hidden="true">&rarr;</span></a></li>
      
    </ul>
  </footer>
</article>

  </main>
  <footer class="container global-footer">
    <div class="copyright-note pull-left">
      Copyleft; Feel free to steal
    </div>
    <div class="sns-links hidden-print">
  <a href="https://blog.dineshs91.compost/projects">
    <i class="fa fa-space-shuttle"></i>
  </a>
  
  
  <a href="https://twitter.com/SDinesh91" target="_blank">
    <i class="fa fa-twitter"></i>
  </a>
  
  
  
  
  
  <a href="https://github.com/Dineshs91" target="_blank">
    <i class="fa fa-github"></i>
  </a>
  
  
  
  
</div>

  </footer>

  <script src="https://blog.dineshs91.comjs/highlight.pack.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-42311420-3', 'auto');
    ga('send', 'pageview');
  </script>
  
  
</body>
</html>

